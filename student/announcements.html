<!DOCTYPE html>
<html lang="en">
<script src="http://www.w3schools.com/lib/w3data.js"></script>
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Announcements - Open Announcement</title>

    <!-- Bootstrap Core CSS -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="../css/sb-admin.css" rel="stylesheet">

    <!-- Morris Charts CSS -->
    <link href="../css/plugins/morris.css" rel="stylesheet">

    <link href="../css/common-styles.css" rel="stylesheet">
    <link href="../css/announcement.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="../font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

<div id="wrapper">

    <div w3-include-html="nav.html"></div>

    <div id="page-wrapper">
        <div class="container-fluid">
            <!-- Page Heading -->
            <div class="row">
                <div class="col-lg-12">
                    <h1 class="page-header">
                        Announcements
                    </h1>
                    <ol class="breadcrumb">
                        <li>
                            <i class="fa fa-home"></i> <a href="index.html">Home</a>
                        </li>
                        <li class="active">
                            <i class="fa fa-bullhorn" aria-hidden="true"></i></i> Announcements
                        </li>
                    </ol>
                </div>
            </div>
            <!-- /.row -->

            <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">

            </div>
        </div>
    </div>
</div>
<!-- /#wrapper -->

<script src="http://www.w3schools.com/lib/w3data.js"></script>
<script>
    w3IncludeHTML();
</script>

<!-- jQuery -->
<script src="../js/jquery.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="../js/bootstrap.min.js"></script>


<script src="https://fb.me/react-0.14.6.js"></script>
<script src="https://fb.me/react-dom-0.14.6.js"></script>
<script src="http://fb.me/JSXTransformer-0.12.1.js"></script>
<!-- Flot Charts JavaScript -->
<!--[if lte IE 8]>
<script src="js/excanvas.min.js"></script><![endif]-->

<script src="../js/cookie_mgmt.js"></script>
<script src="../js/account_mgmt.js"></script>
<script type="text/jsx">
$(document).ready(function () {
  var cookie = read_cookie("user");
  console.log(cookie["token"]);


    $.get("http://52.34.207.176/api/list_announcement?token="+cookie["token"],function(data,status){
        announcementList = data["data"];
        announcementList.forEach(function(announcement){
          insertAnnouncement(announcement);
        });
    });
  });

  function insertAnnouncement(announcement){
    var node = ReactDOM.render(
      <div>
      <div className="panel panel-default">
          <div className="panel-heading" role="tab">
              <h4 className="panel-title">
                  <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne"
                     aria-expanded="true" aria-controls="collapseOne">
                     {announcement["title"]}
                  </a>
              </h4>
          </div>
          <div className="panel-collapse collapse in" role="tabpanel"
               aria-labelledby="headingOne">
              <div className="panel-body">{announcement["description"]}
              </div>
          </div>
      </div>
      </div>,
      document.getElementById('accordion')
      );
  }

</script>
</body>

</html>
